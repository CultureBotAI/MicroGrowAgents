
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://CultureBotAI.github.io/MicroGrowAgents/GENOME_FUNCTION/">
      
      
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Genome Function Interpretation - MicroGrowAgents</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#genome-function-interpretation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MicroGrowAgents" class="md-header__button md-logo" aria-label="MicroGrowAgents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MicroGrowAgents
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Genome Function Interpretation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CultureBotAI/MicroGrowAgents" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MicroGrowAgents" class="md-nav__button md-logo" aria-label="MicroGrowAgents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MicroGrowAgents
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CultureBotAI/MicroGrowAgents" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-source" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Source
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Usage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-genome-enzymes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Genome Enzymes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detect-auxotrophies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detect Auxotrophies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-transporters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Find Transporters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claude-code-agent-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Claude Code Agent Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Claude Code Agent Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-analyze-organisms-metabolic-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Analyze Organism's Metabolic Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-compare-two-organisms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Compare Two Organisms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-design-organism-specific-medium" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 3: Design Organism-Specific Medium
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-4-auxotrophy-guided-media-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 4: Auxotrophy-Guided Media Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-5-metabolic-engineering-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 5: Metabolic Engineering Context
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-media-formulation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Media Formulation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with Media Formulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-auxotrophy-supplementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatic Auxotrophy Supplementation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transporter-based-concentration-refinement" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transporter-Based Concentration Refinement
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kg-reasoning-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        KG Reasoning Integration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Loading
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Limitations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="genome-function-interpretation">Genome Function Interpretation</h1>
<p>MicroGrowAgents includes comprehensive genome function interpretation capabilities using Bakta GFF3 annotations from 57 bacterial genomes (667,502 features).</p>
<h2 id="overview">Overview</h2>
<p>The genome function system provides organism-specific media formulation by:
- <strong>Auxotrophy Detection</strong>: Identifying missing biosynthetic pathways
- <strong>Enzyme Analysis</strong>: Querying EC numbers with wildcard support
- <strong>Cofactor Requirements</strong>: Determining essential cofactors that cannot be biosynthesized
- <strong>Transporter Analysis</strong>: Finding nutrient uptake genes for concentration refinement</p>
<h2 id="data-source">Data Source</h2>
<ul>
<li><strong>57 Bakta-annotated genomes</strong> from diverse bacteria</li>
<li><strong>667,502 total features</strong> (623,586 CDS, 7,236 tRNA, 660 rRNA)</li>
<li><strong>100% organism linkage</strong> to NCBI Taxonomy</li>
<li><strong>Annotation coverage</strong>: 14.8% EC, 18.6% GO, 10.7% KEGG, 24.2% COG</li>
</ul>
<h2 id="cli-usage">CLI Usage</h2>
<h3 id="query-genome-enzymes">Query Genome Enzymes</h3>
<p>Find enzymes by EC number with wildcard support:</p>
<pre><code class="language-bash"># Find all oxidoreductases (EC 1.*.*.*)
uv run python -c &quot;
from microgrowagents.agents.kg_reasoning_agent import KGReasoningAgent
from pathlib import Path

agent = KGReasoningAgent(Path('data/processed/microgrow.duckdb'))
result = agent.run('genome_enzymes SAMN00114986 1.1.*')
print(f\&quot;Found {result['data']['count']} enzymes\&quot;)
for enzyme in result['data']['enzymes'][:3]:
    print(f\&quot;  {enzyme['gene_symbol']}: {enzyme['product']}\&quot;)
&quot;
</code></pre>
<h3 id="detect-auxotrophies">Detect Auxotrophies</h3>
<p>Identify metabolic auxotrophies from genome analysis:</p>
<pre><code class="language-bash">uv run python -c &quot;
from microgrowagents.agents.genome_function_agent import GenomeFunctionAgent
from pathlib import Path

agent = GenomeFunctionAgent(Path('data/processed/microgrow.duckdb'))
result = agent.detect_auxotrophies(
    query='detect auxotrophies',
    organism='SAMN00114986'
)

print(f\&quot;Detected {result['data']['summary']['auxotrophies_detected']} auxotrophies\&quot;)
for aux in result['data']['auxotrophies']:
    print(f\&quot;  {aux['pathway_name']}: {', '.join(aux['nutrients'])}\&quot;)
    print(f\&quot;    Confidence: {aux['confidence']}, Completeness: {aux['completeness']:.1%}\&quot;)
&quot;
</code></pre>
<h3 id="find-transporters">Find Transporters</h3>
<p>Search for nutrient transporter genes:</p>
<pre><code class="language-bash">uv run python -c &quot;
from microgrowagents.agents.genome_function_agent import GenomeFunctionAgent
from pathlib import Path

agent = GenomeFunctionAgent(Path('data/processed/microgrow.duckdb'))
result = agent.find_transporters(
    query='find glucose transporters',
    organism='SAMN00114986',
    substrate='glucose'
)

print(f\&quot;Found {len(result['data']['transporters'])} transporters\&quot;)
for transporter in result['data']['transporters'][:3]:
    print(f\&quot;  {transporter['gene_symbol']}: {transporter['product']}\&quot;)
    print(f\&quot;    Family: {transporter['family']}, Affinity: {transporter['affinity']}\&quot;)
&quot;
</code></pre>
<h2 id="claude-code-agent-examples">Claude Code Agent Examples</h2>
<h3 id="example-1-analyze-organisms-metabolic-capabilities">Example 1: Analyze Organism's Metabolic Capabilities</h3>
<p><strong>Prompt to Claude Code:</strong></p>
<pre><code>Analyze the metabolic capabilities of SAMN00114986 genome:

1. Find all oxidoreductase enzymes (EC 1.*.*.*)
2. Detect any biosynthetic auxotrophies
3. Identify transporter genes for iron and glucose
4. Summarize the organism's metabolic profile

Use the GenomeFunctionAgent and provide a detailed report.
</code></pre>
<p><strong>What Claude Code will do:</strong>
- Import and initialize GenomeFunctionAgent
- Call find_enzymes() with EC wildcard pattern
- Call detect_auxotrophies() for pathway analysis
- Call find_transporters() for iron and glucose
- Generate a structured markdown report with findings</p>
<h3 id="example-2-compare-two-organisms">Example 2: Compare Two Organisms</h3>
<p><strong>Prompt to Claude Code:</strong></p>
<pre><code>Compare the metabolic capabilities of SAMN00114986 and SAMN00766392:

1. Compare their auxotrophy profiles
2. Compare their enzyme counts by EC class
3. Identify unique transporters in each organism
4. Generate a comparison table

Show which organism is more metabolically versatile.
</code></pre>
<p><strong>What Claude Code will do:</strong>
- Run genome queries for both organisms in parallel
- Compare auxotrophies, enzymes, and transporters
- Calculate similarity metrics
- Generate side-by-side comparison table
- Provide recommendation on metabolic versatility</p>
<h3 id="example-3-design-organism-specific-medium">Example 3: Design Organism-Specific Medium</h3>
<p><strong>Prompt to Claude Code:</strong></p>
<pre><code>Design a defined medium for SAMN02194963 using genome analysis:

1. Detect all auxotrophies from the genome
2. Identify essential cofactors that cannot be biosynthesized
3. Find transporter genes for key nutrients
4. Use MediaFormulationAgent to create formulation
5. Use GenMediaConcAgent to predict concentrations with transporter adjustments

Create a complete medium recipe with rationale.
</code></pre>
<p><strong>What Claude Code will do:</strong>
- Run comprehensive genome analysis
- Detect auxotrophies automatically
- Identify required cofactors
- Query for transporter genes
- Integrate with MediaFormulationAgent to add auxotrophy supplements
- Refine concentrations based on transporter presence/affinity
- Generate complete medium formulation with evidence</p>
<h3 id="example-4-auxotrophy-guided-media-optimization">Example 4: Auxotrophy-Guided Media Optimization</h3>
<p><strong>Prompt to Claude Code:</strong></p>
<pre><code>I have a bacterial strain (SAMN05421681) that grows poorly on minimal medium.
Help me optimize the medium:

1. Detect auxotrophies from its genome
2. For each detected auxotrophy, recommend specific supplements
3. Find any missing cofactors
4. Check for transporter limitations
5. Generate an optimized medium formulation

Explain the reasoning for each recommendation.
</code></pre>
<p><strong>What Claude Code will do:</strong>
- Analyze genome for biosynthetic pathway completeness
- Identify high-confidence auxotrophies
- Map auxotrophies to required nutrients
- Check cofactor biosynthesis capabilities
- Analyze transporter genes for uptake efficiency
- Create optimized formulation with detailed rationale
- Explain each supplement addition with genomic evidence</p>
<h3 id="example-5-metabolic-engineering-context">Example 5: Metabolic Engineering Context</h3>
<p><strong>Prompt to Claude Code:</strong></p>
<pre><code>I want to engineer SAMN00114986 for increased production of L-methionine.
Analyze the genome to understand:

1. Current methionine biosynthesis pathway completeness
2. All enzymes involved (with EC numbers and locations)
3. Transporters for methionine precursors
4. Potential bottleneck enzymes
5. Required cofactors and their biosynthesis status

Suggest which genes might need overexpression.
</code></pre>
<p><strong>What Claude Code will do:</strong>
- Check methionine pathway completeness
- List all pathway enzymes with genomic coordinates
- Identify precursor transporters
- Calculate pathway completeness scores
- Identify missing or low-copy enzymes
- Check cofactor dependencies
- Generate engineering recommendations with rationale</p>
<h2 id="integration-with-media-formulation">Integration with Media Formulation</h2>
<h3 id="automatic-auxotrophy-supplementation">Automatic Auxotrophy Supplementation</h3>
<p>When using MediaFormulationAgent with an organism parameter, detected auxotrophies are automatically added:</p>
<pre><code class="language-python">from microgrowagents.agents.media_formulation_agent import MediaFormulationAgent
from pathlib import Path

agent = MediaFormulationAgent(Path('data/processed/microgrow.duckdb'))

result = agent.run(
    query=&quot;Design minimal defined medium&quot;,
    organism=&quot;SAMN02194963&quot;,
    growth_conditions={&quot;temperature&quot;: 37, &quot;pH&quot;: 7.0},
    formulation_goals=[&quot;minimal&quot;, &quot;defined&quot;]
)

# result[&quot;data&quot;][&quot;formulation&quot;] will automatically include:
# - Nutrients for detected auxotrophies (high/medium confidence)
# - Essential cofactors that cannot be biosynthesized
# - Evidence from genome analysis in rationale
</code></pre>
<h3 id="transporter-based-concentration-refinement">Transporter-Based Concentration Refinement</h3>
<p>GenMediaConcAgent automatically refines concentrations based on transporter presence:</p>
<pre><code class="language-python">from microgrowagents.agents.gen_media_conc_agent import GenMediaConcAgent
from pathlib import Path

agent = GenMediaConcAgent(Path('data/processed/microgrow.duckdb'))

result = agent.run(
    query=&quot;glucose,iron_sulfate,thiamine&quot;,
    mode=&quot;ingredients&quot;,
    organism=&quot;NCBITaxon:562&quot;  # E. coli
)

# Concentrations are adjusted:
# - No transporter: +50% (passive diffusion needs higher concentration)
# - High-affinity transporter: -25% (efficient uptake)
# - Low/medium affinity: default range
</code></pre>
<h2 id="kg-reasoning-integration">KG Reasoning Integration</h2>
<p>Genome queries are integrated into KGReasoningAgent:</p>
<pre><code class="language-python">from microgrowagents.agents.kg_reasoning_agent import KGReasoningAgent
from pathlib import Path

agent = KGReasoningAgent(Path('data/processed/microgrow.duckdb'))

# Query enzymes
result = agent.run(&quot;genome_enzymes SAMN00114986 2.7.*&quot;)

# Detect auxotrophies
result = agent.run(&quot;genome_auxotrophies SAMN02194963&quot;)

# Find transporters
result = agent.run(&quot;genome_transporters SAMN00114986 iron&quot;)
</code></pre>
<h2 id="testing">Testing</h2>
<p>Run comprehensive genome integration tests:</p>
<pre><code class="language-bash"># Run all genome tests
uv run pytest tests/test_genome_integration.py -v

# Run specific test class
uv run pytest tests/test_genome_integration.py::TestGenomeFunctionAgent -v

# Run with coverage
uv run pytest tests/test_genome_integration.py --cov=microgrowagents.agents.genome_function_agent
</code></pre>
<h2 id="data-loading">Data Loading</h2>
<p>To reload genome data or add new genomes:</p>
<pre><code class="language-bash"># Initialize genome schema
uv run python scripts/init_genome_schema.py

# Load all GFF3 files
uv run python scripts/load_genomes.py

# Test loading
uv run python scripts/test_genome_agent.py
</code></pre>
<h2 id="architecture">Architecture</h2>
<p>The genome function system consists of:</p>
<ol>
<li><strong>GFF3Parser</strong> (<code>parsers/gff3_parser.py</code>): Parses Bakta GFF3 files</li>
<li><strong>NCBILookupService</strong> (<code>services/ncbi_lookup.py</code>): Maps SAMN IDs to organisms</li>
<li><strong>GenomeDataLoader</strong> (<code>database/genome_loader.py</code>): Batch loads genomes into DuckDB</li>
<li><strong>GenomeFunctionAgent</strong> (<code>agents/genome_function_agent.py</code>): Core query interface</li>
<li><strong>Integration</strong>: Automatic integration with media formulation and concentration agents</li>
</ol>
<h2 id="performance">Performance</h2>
<ul>
<li><strong>Database</strong>: 667,502 features with 9 indexes</li>
<li><strong>Query time</strong>: &lt;100ms for most queries</li>
<li><strong>Loading</strong>: ~45 seconds for all 57 genomes (cached NCBI lookups)</li>
<li><strong>Tests</strong>: 17 comprehensive tests, all passing</li>
</ul>
<h2 id="limitations">Limitations</h2>
<ul>
<li>Pathway completeness uses simplified KEGG pathway definitions (3 pathways currently)</li>
<li>Cofactor mapping is heuristic-based (EC class â†’ cofactor)</li>
<li>Transporter affinity is inferred from product descriptions</li>
<li>Full implementation would integrate BRENDA, KEGG, and BioCyc databases</li>
</ul>
<h2 id="future-enhancements">Future Enhancements</h2>
<ul>
<li>Expand pathway database to 35+ biosynthetic pathways</li>
<li>Integrate BRENDA for comprehensive enzyme-cofactor mapping</li>
<li>Add BioCyc pathway definitions for improved completeness scoring</li>
<li>Implement transporter Km prediction from homology</li>
<li>Support custom GFF3 file uploads</li>
<li>Add comparative genomics visualizations</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.tabs.link"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>